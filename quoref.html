<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Smart Question Answering</title>
    <link href="main.css" rel="stylesheet" />
    <script src="main.js"></script>

</head>
<body>
    <form name='mturk_form' method='post' id='mturk_form' action='https://www.mturk.com/mturk/externalSubmit'>
        <input type='hidden' value='' name='assignmentId' id='assignmentId' />
        <div id="root">
            <h2>Questions that require tracking entity references</h2>
            <a href="collapse" onclick="return collapse();" id="collapse_link"><u>(Click to collapse)</u></a>
            <div class="annotated">
                <div>
                    <p>
			In this task, you will look at paragraphs that contain several phrases that are references to names of
			people, places, or things. You will notice that multiple phrases often refer to the same person, place, or thing.
			For example, in the first sentence from sample paragraph below, the names <i>Jack Dawkins</i> and <i>the Artful Dodger</i>
			refer to the same person. Your job is to assess the skills of an AI system at identifying the connection between
			phrases that refer to the same entity. To do so, you will ask it questions that involve applying these skills, and
			<b>find questions that the AI system cannot answer</b>. Here are some kinds of questions you can ask for the
			paragraph below.
                    </p>
                </div>
                <div align="left">
                    <h4>
                        <b>Example questions</b>
                    </h4>
                    <p style="text-align:center">Move your mouse over a question to highlight the parts of the passage that are relevant to
		    the question.</p>
                </div>

                <div class="left_panel">
                    <h2>Passage</h2>
                    <div class="passage-sample">
			    Nearing London, <span class="span1b">Oliver</span> encounters <span class="span34b">Jack
			    Dawkins</span>, a pickpocket more commonly known by the nickname
			    <span class="span2b">the "Artful Dodger"</span>, and <span class="span2a">his</span>
			    sidekick, a boy of a humorous nature named <span class="span3c">Charley Bates</span>, but
			    Oliver's innocent and trusting nature fails to see any dishonesty in <span
			    class="span3a">their</span> actions.  <span class="span4a">The Dodger</span> provides Oliver
		    	    with a free meal and tells him of a gentleman in London who will "give him lodgings for
			    nothing, and never ask for change". Grateful for the unexpected assistance, Oliver follows
			    the Dodger to <span class="span6b">the "old gentleman's" residence</span>. In this way
			    Oliver unwittingly falls in with an infamous Jewish criminal known as Fagin, the gentleman
			    of whom the Artful Dodger spoke. Ensnared, Oliver lives with Fagin and his gang of juvenile
			    pickpockets in <span class="span6a">their lair</span> at Saffron Hill for some time, unaware
			    of their criminal occupations. <span class="span1a">He</span> believes they make wallets and handkerchiefs.
                    </div>
                </div>

                <div class="right_panel_sample">
                    <div class="tab qapairs">
                        <h3>Questions about pronouns (she, her, him, his, their etc.) that refer to people, places,
			or things</h3>
                        <div class="query" onmouseover="highlight_q1();" onmouseout="reset_higlight();">
                            Question : Who believes Fagin's gang make wallets and handkerchiefs? <br />
                            Answer : Oliver<br />
                        </div>
                        <div class="query" onmouseover="highlight_q2();" onmouseout="reset_higlight();">
                            Question : What is the alias of the person whose sidekick had a humorous nature? <br />
                            Answer : the "Artful Dodger"<br />
                        </div>
                        <div class="query" onmouseover="highlight_q3();" onmouseout="reset_higlight();">
                            Question : What are the names of the people whose dishonesty Oliver failed to see? <br />
                            Answer : Jack Dawkins; Charley Bates (two separate phrases)<br />
                        </div>
                        <hr>
                        <h3>Questions about other references to people, places, or things</h3>
                        <div class="query" onmouseover="highlight_q4();" onmouseout="reset_higlight();">
                            Question : What is the Dodger's real name? <br />
			    Answer : Jack Dawkins <br />
                        </div>
                        <div class="query" onmouseover="highlight_q5();" onmouseout="reset_higlight();">
                            Question : What is the real name of the person who provided Oliver with a free meal? <br />
			    Answer : Jack Dawkins <br />
                        </div>
                        <div class="query" onmouseover="highlight_q6();" onmouseout="reset_higlight();">
                            Question : Which place served as Fagin and his gang's lair? <br />
			    Answer : the "old gentleman's" residence <br /> 
                        </div>
                        <div class="query" onmouseover="highlight_q7();" onmouseout="reset_higlight();">
                            Question : Where is the old gentleman's residence? <br />
			    Answer : Saffron Hill <br /> 
                        </div>
                        <hr>
                        <h3>Questions like the ones above, except they do not have answers in the paragraph</h3>
                        <div class="query">
                            Question : What is Charley Bates' nickname? <br />
                            Answer : NO ANSWER <br />
                        </div>
                        <hr>
                        <h3>Questions involving counting the number of times a person, place, or a thing is mentioned</h3>
                        <div class="query">
                            Question :  What is the name of the person who is mentioned the least number of times? <br />
			    Answer : Charley Bates (mentioned fewer times than Oliver, Jack Dawkins, or Fagin) <br />
                        </div>
                        <hr>
                    </div>
                </div>

                <h2 id="Q1">Let's start writing some questions now!</h2>
                <h4> <b>Please keep in mind the following: </b></h4>
                <ol>
			<li> For each of your questions, if an answer exists, it should be one or more phrases in the paragraph.
				If not, please select “NO ANSWER”. </li>
			<li> The answer for each question, if one exists in the paragraph, should be unambiguous. Please avoid
				questions that can have more than one answers. </li>
			<li> There is an AI system running in the background, what will try to answer your question as
				soon as you are done typing. It is reasonably smart, and can answer relatively simple questions. But we are interested
		    		in those questions that it is not smart enough to answer. If the system's answer is correct, please ask it another question. After you
		    		find a question that it cannot answer correctly, please also select the correct answer.
			</li>
                    	<li> You have five passages to pick from, and over these five passages, you must create at least
				20 questions to submit the HIT.
                    	</li>
                    	<li> You can go back and forth between the passages, and you can edit questions by clicking on them.  Once you have
                        	submitted at least 20 questions, go to the last passage to submit the HIT.
                    	</li>
                    	<li> Some passages are easier to generate questions from than others, so if you have a hard time, move to a different passage.
                    	</li>
                    	<li> If the "ADD QUESTION" or "READY TO SUBMIT HIT" buttons are not active, hover your mouse on them to know the reason.
                    	</li>
                </ol>
            </div>
	    <!-- <div class="main-container"> -->
            <br />

            <br />

            <div class="passage_num">
            </div>
            <br />
            <div class="panel">
                <div class="left_panel">
                    <div class="passage">
                        <h2>Passage</h2>
                        <div class="passage-0">
                        </div>
                    </div>
                </div>

                <div class="right_panel">
                    <h2>Type a question based on the passage below</h2>
                    <div class="question">
                        <input type="text" id="input-question" onkeyup="initialize_answer();">
                    </div>
                    <div id="wrapper-outer">
                        <div id="wrapper">
                            <div id="leftcolumn">
                                <div class="answer" align="center">
                                    <h4>Your Answer</h4>
                                    <table id="ans_table">
                                        <tr id="span_row">
                                            <td>
                                                <input type="radio" name="answer" id="span" value='span' onchange="return add_span(this);">Select span
                                            </td>
                                        </tr>
                                        <tr id="no_answer_row">
                                            <td>
                                                <input type="radio" name="answer" id="no_answer" value='no_answer' onchange="run_validations_no_answer();">No answer
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                            </div>

                            <div id="rightcolumn">
                                <h4>AI predicted the answer below <br />(wait for answer to appear below)</h4>
                                <div class="ai_answer" align="center">
                                    <input id="ai-answer" type="text" readonly />
                                </div>
                            </div>
                        </div>


                        <div class="horizontal-scroll-wrapper">
                        </div>
                        <br />
                        <div id="bottomrow">
                            <button id="next_question" type="button" class="btn-submit" onclick="create_question();">
                                Add Question
                            </button>
                            <div id="error_panel">
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="bottom_panel">

                <button id="ready_submit" type="button" class="btn" onclick="final_submit()" onmouseover="check_question_count();">
                    Ready to Submit HIT
                </button>

                <button id="prev_passage" type="button" class="btn" onclick="populate_passage('previous');">
                    Previous Passage
                </button>

                <button id="next_passage" type="button" class="btn" onclick="populate_passage('next');">
                    Next Passage
                </button>

            </div>
        </div>
       
        <br />
        <br />
        <div id="comment">
            <textarea type="text" name="feedback" id="feedback" rows="10" cols="20" placeholder="Please leave your feedback here."></textarea>
        </div>

        <div id="generated_answers">
        </div>

        <div id="submission" style="display:none">
            <h2>Thank you for helping our research!</h2>
        </div>
        <br />

        <div id="submission_container">
            <!--<input type='submit' class="btn" id='submitButton' disabled value='Submit HIT' style="display:none;margin-left:45%" />-->
        </div>

    </form>
        <script language='Javascript'>turkSetAssignmentID();</script>
    </body>

    </html>
